<Window x:Class="PromptRunner.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Ë®≠ÂÆö" Height="450" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <TextBlock Grid.Row="0" Text="APIË®≠ÂÆö" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

        <!-- Ë®≠ÂÆö„Éï„Ç©„Éº„É† -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- API„Ç≠„Éº -->
                <TextBlock Text="Google AI API „Ç≠„Éº" FontWeight="Bold" Margin="0,0,0,5"/>
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <PasswordBox x:Name="PasswordBoxApiKey"
                                 Grid.Column="0"
                                 PasswordChanged="PasswordBoxApiKey_PasswordChanged"
                                 Padding="8"
                                 FontSize="14"
                                 ToolTip="Google AI Studio„ÅßAPI„Ç≠„Éº„ÇíÂèñÂæó„Åó„Å¶„Åè„Å†„Åï„ÅÑ">
                        <PasswordBox.Style>
                            <Style TargetType="PasswordBox">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsApiKeyVisible}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </PasswordBox.Style>
                    </PasswordBox>

                    <TextBox Grid.Column="0"
                             Text="{Binding ApiKey, UpdateSourceTrigger=PropertyChanged}"
                             Padding="8"
                             FontSize="14"
                             ToolTip="Google AI Studio„ÅßAPI„Ç≠„Éº„ÇíÂèñÂæó„Åó„Å¶„Åè„Å†„Åï„ÅÑ">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Setter Property="Visibility" Value="Collapsed"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsApiKeyVisible}" Value="True">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>

                    <Button Grid.Column="1"
                            Content="Ë°®Á§∫"
                            Command="{Binding ToggleApiKeyVisibilityCommand}"
                            Width="60"
                            Margin="5,0,0,0"
                            Padding="5"/>
                </Grid>

                <!-- „É¢„Éá„É´Âêç -->
                <TextBlock Text="„É¢„Éá„É´Âêç" FontWeight="Bold" Margin="0,0,0,5"/>
                <ComboBox ItemsSource="{Binding AvailableModels}"
                          SelectedItem="{Binding ModelName, UpdateSourceTrigger=PropertyChanged}"
                          Padding="8"
                          FontSize="14"
                          Margin="0,0,0,20"
                          IsEditable="True"/>

                <!-- ÊúÄÂ§ßÂá∫Âäõ„Éà„Éº„ÇØ„É≥Êï∞ -->
                <TextBlock Text="ÊúÄÂ§ßÂá∫Âäõ„Éà„Éº„ÇØ„É≥Êï∞" FontWeight="Bold" Margin="0,0,0,5"/>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                    <Slider Value="{Binding MaxOutputTokens}"
                            Minimum="1024"
                            Maximum="32768"
                            Width="300"
                            TickFrequency="1024"
                            IsSnapToTickEnabled="True"
                            VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding MaxOutputTokens}"
                               Margin="10,0,0,0"
                               VerticalAlignment="Center"
                               FontSize="14"/>
                </StackPanel>

                <!-- Temperature -->
                <TextBlock Text="Temperature (0.0„Äú1.0)" FontWeight="Bold" Margin="0,0,0,5"/>
                <TextBlock Text="ÂÄ§„ÅåÈ´ò„ÅÑ„Åª„Å©ÂâµÈÄ†ÁöÑ„Å™ÂøúÁ≠î„Å´„Å™„Çä„Åæ„Åô" FontSize="12" Foreground="Gray" Margin="0,0,0,5"/>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                    <Slider Value="{Binding Temperature}"
                            Minimum="0.0"
                            Maximum="1.0"
                            Width="300"
                            TickFrequency="0.1"
                            IsSnapToTickEnabled="True"
                            VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding Temperature, StringFormat={}{0:F1}}"
                               Margin="10,0,0,0"
                               VerticalAlignment="Center"
                               FontSize="14"/>
                </StackPanel>

                <!-- ÊÉÖÂ†± -->
                <Border Background="#FFF9E6" BorderBrush="#FFD700" BorderThickness="1" Padding="10" Margin="0,10,0,0">
                    <StackPanel>
                        <TextBlock Text="üìù API„Ç≠„Éº„ÅÆÂèñÂæóÊñπÊ≥ï" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock TextWrapping="Wrap">
                            1. Google AI Studio (https://aistudio.google.com/app/apikey) „Å´„Ç¢„ÇØ„Çª„Çπ
                            <LineBreak/>
                            2. „ÄåCreate API Key„Äç„Çí„ÇØ„É™„ÉÉ„ÇØ
                            <LineBreak/>
                            3. ÁîüÊàê„Åï„Çå„ÅüAPI„Ç≠„Éº„Çí„Ç≥„Éî„Éº„Åó„Å¶‰∏äË®ò„Å´Ë≤º„Çä‰ªò„Åë
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- „Éú„Çø„É≥ -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="‰øùÂ≠ò" Command="{Binding SaveCommand}" Width="100" Padding="8" Margin="0,0,10,0" IsDefault="True"/>
            <Button Content="„Ç≠„É£„É≥„Çª„É´" Command="{Binding CancelCommand}" Width="100" Padding="8" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
